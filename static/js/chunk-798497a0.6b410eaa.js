(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-798497a0"],{"0c4f":function(t,i,e){},1152:function(t,i,e){"use strict";var s=e("f499"),n=e.n(s);n.a},1276:function(t,i,e){"use strict";var s=e("d784"),n=e("44e7"),a=e("825a"),r=e("1d80"),l=e("4840"),c=e("8aa5"),o=e("50c4"),u=e("14c3"),m=e("9263"),d=e("d039"),f=[].push,h=Math.min,g=4294967295,v=!d((function(){return!RegExp(g,"y")}));s("split",2,(function(t,i,e){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var s=String(r(this)),a=void 0===e?g:e>>>0;if(0===a)return[];if(void 0===t)return[s];if(!n(t))return i.call(s,t,a);var l,c,o,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,d+"g");while(l=m.call(v,s)){if(c=v.lastIndex,c>h&&(u.push(s.slice(h,l.index)),l.length>1&&l.index<s.length&&f.apply(u,l.slice(1)),o=l[0].length,h=c,u.length>=a))break;v.lastIndex===l.index&&v.lastIndex++}return h===s.length?!o&&v.test("")||u.push(""):u.push(s.slice(h)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,e){var n=r(this),a=void 0==i?void 0:i[t];return void 0!==a?a.call(i,n,e):s.call(String(n),i,e)},function(t,n){var r=e(s,t,this,n,s!==i);if(r.done)return r.value;var m=a(t),d=String(this),f=l(m,RegExp),p=m.unicode,y=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(v?"y":"g"),b=new f(v?m:"^(?:"+m.source+")",y),x=void 0===n?g:n>>>0;if(0===x)return[];if(0===d.length)return null===u(b,d)?[d]:[];var C=0,_=0,S=[];while(_<d.length){b.lastIndex=v?_:0;var w,M=u(b,v?d:d.slice(_));if(null===M||(w=h(o(b.lastIndex+(v?0:_)),d.length))===C)_=c(d,_,p);else{if(S.push(d.slice(C,_)),S.length===x)return S;for(var I=1;I<=M.length-1;I++)if(S.push(M[I]),S.length===x)return S;_=C=w}}return S.push(d.slice(C)),S}]}),!v)},"1ebe":function(t,i,e){},"466d":function(t,i,e){"use strict";var s=e("d784"),n=e("825a"),a=e("50c4"),r=e("1d80"),l=e("8aa5"),c=e("14c3");s("match",1,(function(t,i,e){return[function(i){var e=r(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,e):new RegExp(i)[t](String(e))},function(t){var s=e(i,t,this);if(s.done)return s.value;var r=n(t),o=String(this);if(!r.global)return c(r,o);var u=r.unicode;r.lastIndex=0;var m,d=[],f=0;while(null!==(m=c(r,o))){var h=String(m[0]);d[f]=h,""===h&&(r.lastIndex=l(o,a(r.lastIndex),u)),f++}return 0===f?null:d}]}))},"6ae8":function(t,i,e){"use strict";var s=e("c821"),n=e.n(s);n.a},"734d":function(t,i,e){"use strict";var s=e("0c4f"),n=e.n(s);n.a},"7cff":function(t,i,e){"use strict";var s=e("1ebe"),n=e.n(s);n.a},"7fc4":function(t,i,e){t.exports=e.p+"static/img/player_bar.3b9b552f.png"},a0b1:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"comment"},[e("div",{staticClass:"myself"},[e("el-input",{attrs:{type:"textarea",placeholder:"请留下你的评论",maxlength:"140","show-word-limit":"",resize:"none"},model:{value:t.text,callback:function(i){t.text=i},expression:"text"}}),e("el-button",{staticStyle:{float:"right",marginTop:"5px"},attrs:{size:"mini"}},[t._v(" 评论 "),e("i",{staticClass:"el-icon-edit el-icon--right"})])],1),e("p",{staticStyle:{marginTop:"30px",fontSize:"14px"}},[t._v("精彩评论")]),t._l(t.comments,(function(i,s){return e("div",{key:s,staticClass:"newComment"},[e("div",{staticClass:"userComment"},[e("div",{staticClass:"userImg"},[e("img",{attrs:{src:i.user.avatarUrl,alt:"404"}}),e("div",{staticClass:"talk"},[e("a",{staticStyle:{color:"#0a63ab",margin:"0 8px"},attrs:{href:"#"}},[t._v(t._s(i.user.nickname)+":")]),e("span",{staticStyle:{lineHeight:"1.5"}},[t._v(t._s(i.content))]),e("p",{staticStyle:{margin:"0 8px"}},[t._v(t._s(t._f("showDate")(i.time)))])])]),e("div",{staticClass:"doing"},[e("span",{staticClass:"to"},[t._v("举报!")]),e("span",[e("i",{staticClass:"el-icon-thumb"}),t._v(t._s(i.likedCount>0?"("+i.likedCount+")":""))]),t._v("| "),e("span",[t._v("分享")]),t._v("| "),e("span",[t._v("回复")])])])])}))],2)},n=[],a=(e("735b"),e("ee02")),r={data:function(){return{text:"",id:0,total:0}},props:{comments:{type:Array,default:function(){return[]}}},methods:{},created:function(){},filters:{showDate:function(t){var i=new Date(t);return Object(a["a"])(i,"yyyy-MM-dd hh:mm:ss")}}},l=r,c=(e("7cff"),e("2877")),o=Object(c["a"])(l,s,n,!1,null,null,null);i["a"]=o.exports},a0cb:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.simis.id?e("div",{staticClass:"mvsimicard"},[e("div",{staticClass:"simi-img",on:{click:function(i){return t.togMv(t.simis.id)}}},[e("img",{attrs:{src:t.simis.cover||t.simis.album.picUrl,alt:"404"}}),e("div",{staticClass:"r-top"},[t.iconShow?e("i",{staticClass:"el-icon-video-camera"}):t._e(),t._v(" "+t._s(t.simis.playCount>1e4?(t.simis.playCount/1e4).toFixed(0)+"万":t.simis.playCount)+" ")])]),e("div",{staticClass:"simi-content"},[e("div",{staticClass:"simi-title"},[e("span",{staticClass:"simi-mv"},[t._v(t._s(t.title))]),e("span",[t._v(t._s(t.simis.name))])]),e("p",{staticStyle:{fontSize:"13px",color:"#888",marginBottom:"10px"}},[t._v(t._s(t._f("showTime")(t.simis.duration)))]),t.simis.artists.length>1?e("div",{staticStyle:{fontSize:"13px",color:"#888",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(t.simis.artists,(function(i,s){return e("i",{key:i.id},[t._v(t._s(t.simis.artists.length===s+1?i.name:i.name+"/"))])})),0):e("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v(t._s(t.simis.artistName||t.simis.artists[0].name))])])]):t._e()},n=[],a=e("ee02"),r=e("9de6"),l=e("735b"),c={name:"MvSimiCard",props:{simis:{type:Object,default:function(){return{}}},title:{type:String,default:"Mv"},iconShow:{type:Boolean,default:!0},simiType:{type:String,default:"mv"}},methods:{togMv:function(t){console.log(t),"mv"===this.simiType&&this.$router.push("/mvvideo"+t),"song"===this.simiType&&(this.getMusicUrl(t),this.getMusicMenu(t))},getMusicUrl:function(t){var i=this;Object(l["c"])(t).then((function(t){i.$store.commit(r["d"],t.data[0].url)}))},getMusicMenu:function(t){var i=this;Object(l["b"])(t).then((function(t){i.$store.commit(r["e"],t.songs[0])}))}},filters:{showTime:function(t){return Object(a["c"])(t)}}},o=c,u=(e("734d"),e("2877")),m=Object(u["a"])(o,s,n,!1,null,"ea5ee51c",null);i["a"]=m.exports},babc:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.getNowMusicMenu.id?s("div",{ref:"scroll",staticClass:"singel"},[s("div",{staticClass:"singel-main"},[s("div",{staticClass:"singel-top"},[s("div",{staticClass:"bck-img"},[s("img",{staticStyle:{width:"100%",filter:"blur(80px)",maxHeight:"400px",borderRadius:"50%"},attrs:{src:t.getNowMusicMenu.al.picUrl,alt:""}})]),s("div",{staticClass:"singel-play-img"},[s("div",{ref:"playBar",staticClass:"play-bar"},[s("img",{attrs:{src:e("7fc4"),alt:"404"}})]),s("div",{ref:"playDisc",staticClass:"play-disc"},[s("img",{attrs:{src:e("f738"),alt:"404"}}),s("div",{staticClass:"disc-img"},[s("img",{attrs:{src:t.getNowMusicMenu.al.picUrl,alt:""}})])]),s("div",{staticClass:"btn"},[s("el-button",{attrs:{size:"mini",icon:"el-icon-circle-plus-outline"}},[t._v("喜欢")]),s("el-button",{attrs:{size:"mini",icon:"el-icon-star-off"}},[t._v("收藏")]),s("el-button",{attrs:{size:"mini",icon:"el-icon-thumb"}},[t._v("分享")]),s("el-button",{attrs:{size:"mini",icon:"el-icon-download"}},[t._v("vip下载")])],1)]),s("div",{staticClass:"singer-text"},[s("div",{staticClass:"singel-title"},[s("span",{staticStyle:{fontSize:"25px",color:"#000",marginRight:"10px"}},[t._v(t._s(t.getNowMusicMenu.name||t.getNowMusicMenu.al.name))]),s("span",{staticStyle:{border:"1px solid red",fontSize:"12px",color:"red",padding:"1px 4px"}},[t._v("标准音质")]),s("div",{staticStyle:{margin:"19px 0",fontSize:"13px"}},[t._v(" 专辑: "),s("span",{staticStyle:{color:"#2559a4"}},[t._v(t._s(t.getNowMusicMenu.alia[0]||t.getNowMusicMenu.al.name))]),t._v(" 歌手: "),s("span",{staticStyle:{color:"#2559a4"}},[t._v(t._s(t.getNowMusicMenu.ar[0].name))])])]),s("div",{staticClass:"lyric"},[s("div",{ref:"lyricScroll",staticStyle:{width:"350px",height:"350px",overflow:"auto","margin-top":"25px",transition:"scrollTop 0.3s"}},[s("ul",{ref:"lyric"},t._l(t.lrcObject,(function(i,e){return s("li",{key:e,ref:[t.lyricIndex===e?"lyricRef":""],refInFor:!0,style:{color:t.lyricIndex===e?"red":"black"}},[t._v(t._s(i.c))])})),0)])])]),s("div",{staticClass:"singel-back"},[s("el-button",{attrs:{icon:"el-icon-copy-document",size:"small"},on:{click:t.comBack}})],1)]),s("div",{staticClass:"singel-btm"},[s("div",{staticClass:"singer-left"},[s("TitleHeader",{staticStyle:{marginBottom:"20px"},attrs:{name:"听友评论",show:!1}}),s("MvComment",{attrs:{comments:t.lyricComment}}),s("el-pagination",{attrs:{background:"","page-size":t.limits,layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1),s("div",{staticClass:"singer-right"},[s("TitleHeader",{staticStyle:{marginTop:"110px"},attrs:{name:"相似歌曲",show:!1}}),t._l(t.simis,(function(t){return s("MvSimiCard",{key:t.id,attrs:{simis:t,title:"歌曲",iconShow:!1,simiType:"song"}})}))],2)])])]):t._e()},n=[],a=(e("99af"),e("b680"),e("ac1f"),e("466d"),e("5319"),e("1276"),e("5530")),r=e("2909"),l=e("2f62"),c=e("735b"),o=e("d5b7"),u=e("a0b1"),m=e("a0cb"),d={name:"Singel",components:{TitleHeader:o["a"],MvComment:u["a"],MvSimiCard:m["a"]},data:function(){return{lyrics:"",lrcObject:[],lyricIndex:0,lyricComment:[],limits:20,offsets:0,duration:0,timerId:0,routeNum:0,simis:{}}},methods:{getSongSimi:function(t){var i=this;Object(c["l"])(t).then((function(t){console.log(t),i.simis=t.songs}))},routeDeg:function(){var t=this.$refs.playDisc;t.style.transform="rotateZ("+this.routeNum+"deg)",this.routeNum+=4},handleCurrentChange:function(t){this.offsets=(t-1)*this.limits,this.getSongLyricComment(this.getNowMusicMenu.id,this.limits,this.offsets),this.$refs.scroll.scrollTop=530},getSongLyricComment:function(t,i,e){var s=this;Object(c["k"])(t,i,e).then((function(t){console.log(t),s.lyricComment=e>0?t.comments:[].concat(Object(r["a"])(t.hotComments),Object(r["a"])(t.comments)),console.log(s.lyricComment)}))},comBack:function(){this.$router.back()},getSongLyric:function(t){var i=this;Object(c["j"])(t).then((function(t){console.log(t.lrc.lyric),i.lyrics=t.lrc.lyric,i.createLrcObj(i.lyrics)}))},createLrcObj:function(t){var i={ms:[]};if(0!=t.length){var e=t.split("\n");for(var s in e){e[s]=e[s].replace(/(^\s*)|(\s*$)/g,"");var n=e[s].match(/\[(\d+:.+?)\]/g),a=0;for(var r in n)a+=n[r].length;var l=e[s].substring(a);for(var r in n){var c=n[r].substring(1,n[r].length-1),o=c.split(":");i.ms.push({t:(60*parseFloat(o[0])+parseFloat(o[1])).toFixed(3),c:""===l?"..............":l})}}i.ms.sort((function(t,i){return t.t-i.t})),this.lrcObject=i.ms}}},computed:Object(a["a"])({},Object(l["b"])(["getNowMusic","getNowMusicMenu","getDuration","getIsPlay"])),created:function(){this.getSongLyric(this.getNowMusicMenu.id),this.getSongLyricComment(this.getNowMusicMenu.id),this.getSongSimi(this.getNowMusicMenu.id),this.timerId=setInterval(this.routeDeg,100)},watch:{getNowMusicMenu:function(){console.log("改变了"),clearInterval(this.timerId),this.offsets=0,this.duration=0,this.timerId=0,this.routeNum=0,this.lyricIndex=0,this.getSongLyric(this.getNowMusicMenu.id),this.getSongLyricComment(this.getNowMusicMenu.id,this.limits,this.offsets),this.getSongSimi(this.getNowMusicMenu.id),this.timerId=setInterval(this.routeDeg,100)},getIsPlay:function(){if(this.getIsPlay){clearInterval(this.timerId),this.timerId=setInterval(this.routeDeg,100);var t=this.$refs.playBar;t.style.transform="rotate(0deg)"}else{clearInterval(this.timerId);var i=this.$refs.playBar;i.style.transform="rotate(-30deg)"}},getDuration:function(){this.duration=this.getDuration;for(var t=0;t<this.lrcObject.length;t++)if(this.getDuration<=parseFloat(this.lrcObject[t].t)){if(this.lyricIndex===t-1)break;this.lyricIndex=t-1,this.$refs.lyricScroll.scrollTop+55>this.$refs.lyricRef[0].offsetTop?console.log("不自动滑动"):this.$refs.lyricRef[0].offsetTop>175&&(this.$refs.lyricScroll.scrollTop=this.$refs.lyricRef[0].offsetTop-175),this.lyricIndex===this.lrcObject.length-1&&(this.lyricIndex=0);break}}}},f=d,h=(e("6ae8"),e("2877")),g=Object(h["a"])(f,s,n,!1,null,"3f1d95d8",null);i["default"]=g.exports},c821:function(t,i,e){},d5b7:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title"},[e("div",{staticClass:"content"},[e("div",{staticClass:"name"},[t._v(t._s(t.name))]),t.show?e("div",{staticClass:"more"},[e("a",{attrs:{href:""},on:{click:function(i){return i.preventDefault(),t.toggel(i)}}},[t._v(t._s(t.more)),e("i",{staticClass:"el-icon-arrow-right"})])]):t._e()])])},n=[],a={name:"TitleHeader",props:{name:{type:String,default:"名字"},more:{type:String,default:"更多"},path:{type:String,default:"/home/rtsongs"},show:{type:Boolean,default:!0}},methods:{toggel:function(){this.$router.push(this.path)}}},r=a,l=(e("1152"),e("2877")),c=Object(l["a"])(r,s,n,!1,null,"029d06dc",null);i["a"]=c.exports},f499:function(t,i,e){},f738:function(t,i,e){t.exports=e.p+"static/img/disc.e89e0c3e.png"}}]);
//# sourceMappingURL=chunk-798497a0.6b410eaa.js.map