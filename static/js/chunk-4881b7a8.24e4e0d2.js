(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4881b7a8"],{"5a8d":function(t,e,a){"use strict";var s=a("7c02"),n=a.n(s);n.a},"7c02":function(t,e,a){},c6cc:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("h2",{staticStyle:{color:"#888",fontSize:"14px"}},[t._v(" 搜索 "),a("span",{staticStyle:{color:"#5292fe"}},[t._v("“"+t._s(t.keywords)+"”")]),t._v("找到 "),a("span",{staticStyle:{color:"#333"}},[t._v(t._s(t.totals))]),t._v("首单曲 ")]),a("div",{staticStyle:{width:"90%",margin:"0 auto",marginTop:"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.playList,lazy:!0},on:{"row-dblclick":t.playMusicList}},[a("el-table-column",{attrs:{type:"index",width:"70"}}),a("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return a("a",{staticClass:"icon",attrs:{href:""},on:{click:function(a){return a.preventDefault(),a.stopPropagation(),t.addCollect(e.row.id)}}},[a("i",{class:[e.row.id===t.currIndex?"el-icon-star-on":"el-icon-star-off"]})])}}])},[a("a",{staticClass:"icon",attrs:{href:"#"}},[a("i",{staticClass:"el-icon-download"})])]),a("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:"280"}}),a("el-table-column",{attrs:{prop:"artists[0].name",label:"歌手",width:"200"}}),a("el-table-column",{attrs:{prop:"album.name",label:"专辑"}}),a("el-table-column",{attrs:{label:"时长",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("span",{},[t._v(t._s(t._f("showTime")(e.row.duration)))])}}])})],1)],1)])},n=[],i=a("1bab");function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;return Object(i["a"])({url:"/search",params:{keywords:t,limit:e,offset:a,type:s}})}var r=a("ee02"),l=a("735b"),c=a("9de6"),u={name:"SearchMain",data:function(){return{keywords:"",totals:0,playList:[],currIndex:0}},methods:{playMusicList:function(t){this.getMusicUrl(t.id),this.getMusicMenu(t.id)},addCollect:function(t){this.currIndex=t},getSearchAll:function(t,e,a,s){var n=this;o(t,e,a,s).then((function(t){n.totals=t.result.songCount,n.playList=t.result.songs}))},getMusicUrl:function(t){var e=this;Object(l["c"])(t).then((function(t){e.$store.commit(c["d"],t.data[0].url)}))},getMusicMenu:function(t){var e=this;Object(l["b"])(t).then((function(t){e.$store.commit(c["e"],t.songs[0])}))}},created:function(){this.keywords=this.$route.params.keywords,this.getSearchAll(this.keywords,30,0,1)},filters:{showTime:function(t){return Object(r["c"])(t)}},watch:{$route:function(t,e){void 0!==t.params.keywords&&(this.keywords=t.params.keywords,this.getSearchAll(this.keywords,30,0,1))}}},d=u,h=(a("5a8d"),a("2877")),f=Object(h["a"])(d,s,n,!1,null,"bdc094e2",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-4881b7a8.24e4e0d2.js.map