(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79fa1918"],{"0917":function(t,e,n){"use strict";var i=n("5873"),a=n.n(i);a.a},"1e28":function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var i=n("1bab");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(i["a"])({url:"/top/song",params:{type:t}})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return Object(i["a"])({url:"/top/album",params:{area:t,limit:e}})}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])({url:"/comment/album",params:{id:t,limit:e,offset:n}})}},"1ebe":function(t,e,n){},"2f0c":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.albumMenu.id?n("div",{ref:"albumScroll",staticClass:"albumlist"},[n("div",{staticClass:"albumlist-top"},[n("div",{staticClass:"albumlist-img"},[n("img",{attrs:{src:t.albumMenu.picUrl,alt:"404"}})]),n("div",{staticClass:"albumlist-content"},[n("span",{staticClass:"span-ti"},[t._v("专辑")]),n("span",{staticStyle:{fontSize:"20px"}},[t._v(t._s(t.albumMenu.name))]),n("p",{staticStyle:{marginBottom:"20px"}}),n("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-video-play"}},[t._v(" 播放全部 "),n("button",{staticClass:"btn-a"},[t._v("+")])]),n("el-button",{attrs:{size:"small",icon:"el-icon-star-off"},on:{click:function(e){return t.subscripe(1)}}},[t._v("收藏("+t._s(t.albumMenu.info.likedCount)+")")]),n("el-button",{attrs:{size:"small",icon:"el-icon-thumb"}},[t._v("分享("+t._s(t.albumMenu.info.shareCount)+")")]),n("el-button",{attrs:{size:"small",icon:"el-icon-download"}},[t._v("vip下载")]),n("p",{staticStyle:{margin:"20px 0",fontSize:"14px"}},[t._v(" 歌手 : "),n("i",{staticStyle:{color:"#888"}},[t._v(t._s(t.albumMenu.artist.name))])]),n("p",{staticStyle:{fontSize:"14px"}},[t._v(" 时间 : "),n("i",{staticStyle:{color:"#888"}},[t._v(t._s(t._f("showDate")(t.albumMenu.publishTime)))])])],1)]),n("div",{staticClass:"albumlist-btm"},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"歌曲列表",name:"first"}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.albumSong},on:{"row-dblclick":t.playMusicList}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),n("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return n("a",{staticClass:"icon",attrs:{href:""},on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.addCollect(e.row.id)}}},[t.isshow?n("i",{staticClass:"el-icon-star-off"}):n("i",{staticClass:"el-icon-star-on"}),n("i",{staticClass:"el-icon-download"})])}}],null,!1,1585944711)}),n("el-table-column",{attrs:{prop:"name",label:"音乐标题",width:"280"}}),n("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手",width:"200"}}),n("el-table-column",{attrs:{prop:"al.name",label:"专辑"}}),n("el-table-column",{attrs:{prop:"dt",label:"时长",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return n("span",{},[t._v(t._s(t._f("showTime")(e.row.dt)))])}}],null,!1,3578581205)})],1)],1),n("el-tab-pane",{attrs:{label:"评论("+t.albumMenu.info.commentCount+")",name:"second"}},[n("MvComment",{attrs:{comments:t.albumComment}}),n("el-pagination",{attrs:{background:"","page-size":t.limits,layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1),n("el-tab-pane",{attrs:{label:"专辑详情",name:"third"}},[n("h2",{staticStyle:{fontSize:"20px",margin:"20px 0",fontWeight:"bold"}},[t._v("专辑简介")]),n("p",{staticStyle:{color:"#888",fontSize:"14px",textIndent:"2em"}},[t._v(t._s(t.albumMenu.description))])])],1)],1)]):t._e()},a=[],s=(n("99af"),n("b0c0"),n("2909")),l=n("8a48"),o=n("a0b1"),r=n("735b"),c=n("9de6"),u=n("883c"),m=n("1e28"),d=n("ee02"),f={name:"AlbumList",components:{SingerAlbum:l["a"],MvComment:o["a"]},data:function(){return{activeName:"first",id:0,albumMenu:[],albumSong:[],albumComment:[],isshow:!0,limits:20,offsets:0}},methods:{handleCurrentChange:function(t){this.offsets=(t-1)*this.limits,this.getNewAlbumComment(this.id,this.limits,this.offsets),this.$refs.albumScroll.scrollTop=230},subscripe:function(t){console.log(t)},addCollect:function(t){console.log(t),this.isshow=!this.isshow},handleClick:function(t,e){switch(t.name){case"second":this.getNewAlbumComment(this.id);break;default:this.getSingerAlbumAll(this.id)}},getSingerAlbumAll:function(t){var e=this;Object(u["h"])(t).then((function(t){e.albumMenu=t.album,e.albumSong=t.songs}))},getNewAlbumComment:function(t,e,n){var i=this;Object(m["b"])(t,e,n).then((function(t){i.offsets>0?i.albumComment=Object(s["a"])(t.comments):i.albumComment=[].concat(Object(s["a"])(t.hotComments),Object(s["a"])(t.comments))}))},getMusicUrl:function(t){var e=this;Object(r["c"])(t).then((function(t){e.$store.commit(c["d"],t.data[0].url)}))},getMusicMenu:function(t){var e=this;Object(r["b"])(t).then((function(t){e.$store.commit(c["e"],t.songs[0])}))},playMusicList:function(t){null!==t.id&&(this.getMusicUrl(t.id),this.getMusicMenu(t.id))}},created:function(){this.id=this.$route.params.id,this.getSingerAlbumAll(this.id)},filters:{showDate:function(t){var e=new Date(t);return Object(d["a"])(e,"yyyy-MM-dd")},showTime:function(t){return Object(d["c"])(t)}}},b=f,p=(n("a470"),n("2877")),h=Object(p["a"])(b,i,a,!1,null,"75729e6e",null);e["default"]=h.exports},"4b5f":function(t,e,n){t.exports=n.p+"static/img/top50.acbd630c.png"},5807:function(t,e,n){},5873:function(t,e,n){},"7cff":function(t,e,n){"use strict";var i=n("1ebe"),a=n.n(i);a.a},"883c":function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"i",(function(){return l})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return r})),n.d(e,"k",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"e",(function(){return m})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return p}));var i=n("1bab");function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;return Object(i["a"])({url:"/artist/list",params:{type:e,initial:n,area:t,limit:a}})}function s(t){return Object(i["a"])({url:"/artist/desc",params:{id:t}})}function l(t){return Object(i["a"])({url:"/artists",params:{id:t}})}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return Object(i["a"])({url:"/artist/album",params:{id:t,limit:e}})}function r(t){return Object(i["a"])({url:"/album",params:{id:t}})}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])({url:"/artist/mv",params:{id:t,limit:e,offset:n}})}function u(t){return Object(i["a"])({url:"/simi/artist",params:{id:t}})}function m(t){return Object(i["a"])({url:"/mv/url",params:{id:t}})}function d(t){return Object(i["a"])({url:"/mv/detail",params:{mvid:t}})}function f(t){return Object(i["a"])({url:"/mv/detail/info",params:{mvid:t}})}function b(t){return Object(i["a"])({url:"/simi/mv",params:{mvid:t}})}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(i["a"])({url:"/comment/mv",params:{id:t,limit:e,offset:n}})}},"8a48":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"s-album"},[t.imgShow?i("div",{staticClass:"album-img"},[t._t("albumImg",[i("img",{attrs:{src:n("4b5f"),alt:"404"}})])],2):t._e(),i("div",{staticClass:"album-list",style:{width:t.wth+"%"}},[i("div",{staticClass:"sell-btn",on:{click:t.addCollect}},[i("i",{staticClass:"el-icon-first-aid-kit"})]),i("div",{staticClass:"play-btn",on:{click:function(e){return t.playMusicList(t.tableList[0])}}},[i("i",{staticClass:"el-icon-video-play"})]),i("el-table",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{data:t.tableList.slice(0,t.showNum),lazy:!0,size:"mini"},on:{"row-click":t.playMusicList}},[t._t("albumTitle",[i("el-table-column",{attrs:{type:"index",width:"90",label:t.topTitle}})]),i("el-table-column",{attrs:{width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return t.images?t._t("tableicon",[i("a",{staticClass:"icon",attrs:{href:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addCollect(e)}}},[t.isshow?i("i",{staticClass:"el-icon-star-off"}):i("i",{staticClass:"el-icon-star-on"})]),i("a",{staticClass:"icon",attrs:{href:"#"}},[i("i",{staticClass:"el-icon-download"})])],{item:e.row.album.picUrl}):t._e()}}],null,!0)}),i("el-table-column",{attrs:{prop:"name",width:"180"}}),i("el-table-column",{attrs:{prop:"ar[0].name",width:"100"}}),i("el-table-column",{attrs:{prop:"al.name"},scopedSlots:t._u([{key:"default",fn:function(e){return t.nicknameshow?t._t("tablesinger",null,{item:e.row.album.artists}):t._e()}}],null,!0)}),i("el-table-column",{attrs:{prop:"dt",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return i("span",{},[t._v(t._s(t._f("singDate")(e.row.duration||e.row.dt)))])}}])})],2),t.tableList.length>10&&t.lookshow?i("div",{staticClass:"lookAll",on:{click:t.lookAll}},[t._v(" 查看全部"+t._s(t.tableList.length)+"首 "),i("i",{staticClass:"el-icon-arrow-right"})]):t._e()],1)])},a=[],s=(n("a9e3"),n("735b")),l=n("9de6"),o=n("ee02"),r={name:"SingerAlbum",props:{tableList:{type:Array,default:function(){return[]}},wth:{type:Number,default:70},imgShow:{type:Boolean,default:!0},topTitle:{type:String,default:"热门50首"},images:{type:Boolean,default:!1},nicknameshow:{type:Boolean,default:!1}},data:function(){return{isshow:!0,lookshow:!0,showNum:10}},methods:{playMusicList:function(t){console.log(t.id),null!==t.id&&(this.getMusicUrl(t.id),this.getMusicMenu(t.id))},getMusicUrl:function(t){var e=this;Object(s["c"])(t).then((function(t){e.$store.commit(l["d"],t.data[0].url)}))},getMusicMenu:function(t){var e=this;Object(s["b"])(t).then((function(t){e.$store.commit(l["e"],t.songs[0])}))},addCollect:function(){console.log("收藏了"),this.isshow=!this.isshow},lookAll:function(){this.lookshow=!1,this.showNum=this.tableList.length}},filters:{singDate:function(t){return Object(o["c"])(t)}}},c=r,u=(n("0917"),n("2877")),m=Object(u["a"])(c,i,a,!1,null,"20875714",null);e["a"]=m.exports},a0b1:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment"},[n("div",{staticClass:"myself"},[n("el-input",{attrs:{type:"textarea",placeholder:"请留下你的评论",maxlength:"140","show-word-limit":"",resize:"none"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),n("el-button",{staticStyle:{float:"right",marginTop:"5px"},attrs:{size:"mini"}},[t._v(" 评论 "),n("i",{staticClass:"el-icon-edit el-icon--right"})])],1),n("p",{staticStyle:{marginTop:"30px",fontSize:"14px"}},[t._v("精彩评论")]),t._l(t.comments,(function(e,i){return n("div",{key:i,staticClass:"newComment"},[n("div",{staticClass:"userComment"},[n("div",{staticClass:"userImg"},[n("img",{attrs:{src:e.user.avatarUrl,alt:"404"}}),n("div",{staticClass:"talk"},[n("a",{staticStyle:{color:"#0a63ab",margin:"0 8px"},attrs:{href:"#"}},[t._v(t._s(e.user.nickname)+":")]),n("span",{staticStyle:{lineHeight:"1.5"}},[t._v(t._s(e.content))]),n("p",{staticStyle:{margin:"0 8px"}},[t._v(t._s(t._f("showDate")(e.time)))])])]),n("div",{staticClass:"doing"},[n("span",{staticClass:"to"},[t._v("举报!")]),n("span",[n("i",{staticClass:"el-icon-thumb"}),t._v(t._s(e.likedCount>0?"("+e.likedCount+")":""))]),t._v("| "),n("span",[t._v("分享")]),t._v("| "),n("span",[t._v("回复")])])])])}))],2)},a=[],s=(n("735b"),n("ee02")),l={data:function(){return{text:"",id:0,total:0}},props:{comments:{type:Array,default:function(){return[]}}},methods:{},created:function(){},filters:{showDate:function(t){var e=new Date(t);return Object(s["a"])(e,"yyyy-MM-dd hh:mm:ss")}}},o=l,r=(n("7cff"),n("2877")),c=Object(r["a"])(o,i,a,!1,null,null,null);e["a"]=c.exports},a470:function(t,e,n){"use strict";var i=n("5807"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-79fa1918.95f8e502.js.map