(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bf575e6"],{"06e7":function(t,i,e){"use strict";var n=e("a7ba"),s=e.n(n);s.a},"0c4f":function(t,i,e){},"0fc3":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.topMenu.id?e("div",{ref:"scroll",staticClass:"mvvideo"},[e("div",{staticClass:"mv-left"},[e("header",[t._m(0),e("span",{staticClass:"mv-title"},[t._v("MV")]),e("span",{staticStyle:{fontSize:"16px",marginRight:"5px"}},[t._v(t._s(t.topMenu.name))]),t.topMenu.artists.length>0?e("span",{staticStyle:{fontSize:"13px"}},[t._v(t._s(t.topMenu.artists[0].name))]):t._e(),t.topMenu.artists.length>1?e("span",{staticStyle:{fontSize:"13px"}},[t._v(t._s(t.topMenu.artists[0].name)+"/"+t._s(t.topMenu.artists[1].name))]):t._e()]),e("video",{staticStyle:{width:"99%",margin:"20px 0"},attrs:{controls:"",autoplay:"",muted:"",loop:"",id:"myvideo",src:t.videurl},domProps:{muted:!0}},[e("p",[t._v("对不起，你的浏览器不支持video元素，请点击这里下载最新版本的浏览器")])]),e("el-button",{attrs:{size:"small",icon:"el-icon-thumb"}},[t._v("赞("+t._s(t.likeCom.likedCount)+")")]),e("el-button",{attrs:{size:"small",icon:"el-icon-star-off"},on:{click:function(i){return t.subscripe(12)}}},[t._v("收藏("+t._s(t.topMenu.subCount)+")")]),e("el-button",{attrs:{size:"small",icon:"el-icon-share"}},[t._v("分享("+t._s(t.topMenu.shareCount)+")")]),e("el-button",{attrs:{size:"small",icon:"el-icon-download"}},[t._v("下载MV")]),e("a",{staticStyle:{color:"#888",fontSize:"13px",textDecoration:"underline",float:"right",marginRight:"5px"},attrs:{href:"#"}},[t._v("举报")]),e("TitleHeader",{staticStyle:{marginTop:"50px"},attrs:{name:"评论("+t.likeCom.commentCount+")",show:!1}}),e("MvComment",{attrs:{comments:t.comments}}),e("el-pagination",{attrs:{background:"","page-size":t.limits,layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1),e("div",{staticClass:"mv-right"},[e("TitleHeader",{staticStyle:{marginBottom:"8px"},attrs:{name:"Mv介绍",show:!1}}),e("div",{staticStyle:{display:"flex",justifyContent:"space-between"}},[e("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v("发布时间:"+t._s(t.topMenu.publishTime))]),e("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v("播放次数:"+t._s(t.topMenu.playCount>1e3?(t.topMenu.playCount/1e4).toFixed(0)+"万":t.topMenu.playCount)+"次")])]),e("div",{staticStyle:{marginTop:"8px"}},[e("span",{staticStyle:{fontSize:"13px",color:"#888",lineHeight:"1.4"}},[t._v(t._s(t.topMenu.desc))])]),e("TitleHeader",{staticStyle:{marginTop:"50px"},attrs:{name:"相关推荐",show:!1}}),t._l(t.simiMvs,(function(t){return e("MvSimiCard",{key:t.id,attrs:{simis:t}})}))],2)]):t._e()},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("a",{attrs:{href:"#"}},[e("i",{staticClass:"el-icon-arrow-left"})])}],a=(e("99af"),e("2909")),o=e("883c"),r=e("d5b7"),c=e("a0b1"),l=e("a0cb"),u={name:"SingerMvVideo",components:{TitleHeader:r["a"],MvSimiCard:l["a"],MvComment:c["a"]},data:function(){return{id:0,videurl:0,topMenu:{},likeCom:{},comments:[],limits:20,offsets:0,simiMvs:[]}},methods:{handleCurrentChange:function(t){this.offsets=(t-1)*this.limits,this.getMvComment(this.id,this.limits,this.offsets),this.$refs.scroll.scrollTop=530},subscripe:function(t){console.log(t)},getMvUrl:function(t){var i=this;Object(o["e"])(t).then((function(t){i.videurl=t.data.url}))},getMvDetail:function(t){var i=this;Object(o["b"])(t).then((function(t){console.log(t.data),i.topMenu=t.data}))},getMvDetailInfo:function(t){var i=this;Object(o["c"])(t).then((function(t){i.likeCom=t}))},getMvComment:function(t,i,e){var n=this;Object(o["a"])(t,i,e).then((function(t){n.comments=e>0?t.comments:[].concat(Object(a["a"])(t.hotComments),Object(a["a"])(t.comments))}))},getMvSimi:function(t){var i=this;Object(o["d"])(t).then((function(t){console.log(t),i.simiMvs=t.mvs}))}},created:function(){this.id=this.$route.params.id,this.getMvUrl(this.id),this.getMvDetail(this.id),this.getMvDetailInfo(this.id),this.getMvComment(this.id),this.getMvSimi(this.id)},watch:{$route:function(t,i){console.log(t.params.id),this.id=parseInt(t.params.id),this.getMvUrl(this.id),this.getMvDetail(this.id),this.getMvDetailInfo(this.id),this.getMvComment(this.id),this.getMvSimi(this.id)}}},m=u,d=(e("06e7"),e("2877")),v=Object(d["a"])(m,n,s,!1,null,"9ceecbb8",null);i["default"]=v.exports},1152:function(t,i,e){"use strict";var n=e("f499"),s=e.n(n);s.a},"1ebe":function(t,i,e){},"734d":function(t,i,e){"use strict";var n=e("0c4f"),s=e.n(n);s.a},"7cff":function(t,i,e){"use strict";var n=e("1ebe"),s=e.n(n);s.a},"883c":function(t,i,e){"use strict";e.d(i,"f",(function(){return s})),e.d(i,"j",(function(){return a})),e.d(i,"i",(function(){return o})),e.d(i,"g",(function(){return r})),e.d(i,"h",(function(){return c})),e.d(i,"k",(function(){return l})),e.d(i,"l",(function(){return u})),e.d(i,"e",(function(){return m})),e.d(i,"b",(function(){return d})),e.d(i,"c",(function(){return v})),e.d(i,"d",(function(){return f})),e.d(i,"a",(function(){return p}));var n=e("1bab");function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;return Object(n["a"])({url:"/artist/list",params:{type:i,initial:e,area:t,limit:s}})}function a(t){return Object(n["a"])({url:"/artist/desc",params:{id:t}})}function o(t){return Object(n["a"])({url:"/artists",params:{id:t}})}function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return Object(n["a"])({url:"/artist/album",params:{id:t,limit:i}})}function c(t){return Object(n["a"])({url:"/album",params:{id:t}})}function l(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n["a"])({url:"/artist/mv",params:{id:t,limit:i,offset:e}})}function u(t){return Object(n["a"])({url:"/simi/artist",params:{id:t}})}function m(t){return Object(n["a"])({url:"/mv/url",params:{id:t}})}function d(t){return Object(n["a"])({url:"/mv/detail",params:{mvid:t}})}function v(t){return Object(n["a"])({url:"/mv/detail/info",params:{mvid:t}})}function f(t){return Object(n["a"])({url:"/simi/mv",params:{mvid:t}})}function p(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(n["a"])({url:"/comment/mv",params:{id:t,limit:i,offset:e}})}},a0b1:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"comment"},[e("div",{staticClass:"myself"},[e("el-input",{attrs:{type:"textarea",placeholder:"请留下你的评论",maxlength:"140","show-word-limit":"",resize:"none"},model:{value:t.text,callback:function(i){t.text=i},expression:"text"}}),e("el-button",{staticStyle:{float:"right",marginTop:"5px"},attrs:{size:"mini"}},[t._v(" 评论 "),e("i",{staticClass:"el-icon-edit el-icon--right"})])],1),e("p",{staticStyle:{marginTop:"30px",fontSize:"14px"}},[t._v("精彩评论")]),t._l(t.comments,(function(i,n){return e("div",{key:n,staticClass:"newComment"},[e("div",{staticClass:"userComment"},[e("div",{staticClass:"userImg"},[e("img",{attrs:{src:i.user.avatarUrl,alt:"404"}}),e("div",{staticClass:"talk"},[e("a",{staticStyle:{color:"#0a63ab",margin:"0 8px"},attrs:{href:"#"}},[t._v(t._s(i.user.nickname)+":")]),e("span",{staticStyle:{lineHeight:"1.5"}},[t._v(t._s(i.content))]),e("p",{staticStyle:{margin:"0 8px"}},[t._v(t._s(t._f("showDate")(i.time)))])])]),e("div",{staticClass:"doing"},[e("span",{staticClass:"to"},[t._v("举报!")]),e("span",[e("i",{staticClass:"el-icon-thumb"}),t._v(t._s(i.likedCount>0?"("+i.likedCount+")":""))]),t._v("| "),e("span",[t._v("分享")]),t._v("| "),e("span",[t._v("回复")])])])])}))],2)},s=[],a=(e("735b"),e("ee02")),o={data:function(){return{text:"",id:0,total:0}},props:{comments:{type:Array,default:function(){return[]}}},methods:{},created:function(){},filters:{showDate:function(t){var i=new Date(t);return Object(a["a"])(i,"yyyy-MM-dd hh:mm:ss")}}},r=o,c=(e("7cff"),e("2877")),l=Object(c["a"])(r,n,s,!1,null,null,null);i["a"]=l.exports},a0cb:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.simis.id?e("div",{staticClass:"mvsimicard"},[e("div",{staticClass:"simi-img",on:{click:function(i){return t.togMv(t.simis.id)}}},[e("img",{attrs:{src:t.simis.cover||t.simis.album.picUrl,alt:"404"}}),e("div",{staticClass:"r-top"},[t.iconShow?e("i",{staticClass:"el-icon-video-camera"}):t._e(),t._v(" "+t._s(t.simis.playCount>1e4?(t.simis.playCount/1e4).toFixed(0)+"万":t.simis.playCount)+" ")])]),e("div",{staticClass:"simi-content"},[e("div",{staticClass:"simi-title"},[e("span",{staticClass:"simi-mv"},[t._v(t._s(t.title))]),e("span",[t._v(t._s(t.simis.name))])]),e("p",{staticStyle:{fontSize:"13px",color:"#888",marginBottom:"10px"}},[t._v(t._s(t._f("showTime")(t.simis.duration)))]),t.simis.artists.length>1?e("div",{staticStyle:{fontSize:"13px",color:"#888",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(t.simis.artists,(function(i,n){return e("i",{key:i.id},[t._v(t._s(t.simis.artists.length===n+1?i.name:i.name+"/"))])})),0):e("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v(t._s(t.simis.artistName||t.simis.artists[0].name))])])]):t._e()},s=[],a=e("ee02"),o=e("9de6"),r=e("735b"),c={name:"MvSimiCard",props:{simis:{type:Object,default:function(){return{}}},title:{type:String,default:"Mv"},iconShow:{type:Boolean,default:!0},simiType:{type:String,default:"mv"}},methods:{togMv:function(t){console.log(t),"mv"===this.simiType&&this.$router.push("/mvvideo"+t),"song"===this.simiType&&(this.getMusicUrl(t),this.getMusicMenu(t))},getMusicUrl:function(t){var i=this;Object(r["c"])(t).then((function(t){i.$store.commit(o["d"],t.data[0].url)}))},getMusicMenu:function(t){var i=this;Object(r["b"])(t).then((function(t){i.$store.commit(o["e"],t.songs[0])}))}},filters:{showTime:function(t){return Object(a["c"])(t)}}},l=c,u=(e("734d"),e("2877")),m=Object(u["a"])(l,n,s,!1,null,"ea5ee51c",null);i["a"]=m.exports},a7ba:function(t,i,e){},d5b7:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title"},[e("div",{staticClass:"content"},[e("div",{staticClass:"name"},[t._v(t._s(t.name))]),t.show?e("div",{staticClass:"more"},[e("a",{attrs:{href:""},on:{click:function(i){return i.preventDefault(),t.toggel(i)}}},[t._v(t._s(t.more)),e("i",{staticClass:"el-icon-arrow-right"})])]):t._e()])])},s=[],a={name:"TitleHeader",props:{name:{type:String,default:"名字"},more:{type:String,default:"更多"},path:{type:String,default:"/home/rtsongs"},show:{type:Boolean,default:!0}},methods:{toggel:function(){this.$router.push(this.path)}}},o=a,r=(e("1152"),e("2877")),c=Object(r["a"])(o,n,s,!1,null,"029d06dc",null);i["a"]=c.exports},f499:function(t,i,e){}}]);
//# sourceMappingURL=chunk-1bf575e6.0be1650b.js.map