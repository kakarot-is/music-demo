(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41098d89"],{"0917":function(t,i,e){"use strict";var s=e("5873"),n=e.n(s);n.a},"0e08":function(t,i,e){},"2dde":function(t,i,e){"use strict";var s=e("0e08"),n=e.n(s);n.a},"4b5f":function(t,i,e){t.exports=e.p+"static/img/top50.acbd630c.png"},5460:function(t,i,e){},5873:function(t,i,e){},"66fd":function(t,i,e){"use strict";var s=e("5460"),n=e.n(s);n.a},"883c":function(t,i,e){"use strict";e.d(i,"f",(function(){return n})),e.d(i,"j",(function(){return a})),e.d(i,"i",(function(){return l})),e.d(i,"g",(function(){return r})),e.d(i,"h",(function(){return o})),e.d(i,"k",(function(){return c})),e.d(i,"l",(function(){return u})),e.d(i,"e",(function(){return m})),e.d(i,"b",(function(){return d})),e.d(i,"c",(function(){return f})),e.d(i,"d",(function(){return h})),e.d(i,"a",(function(){return g}));var s=e("1bab");function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;return Object(s["a"])({url:"/artist/list",params:{type:i,initial:e,area:t,limit:n}})}function a(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function l(t){return Object(s["a"])({url:"/artists",params:{id:t}})}function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return Object(s["a"])({url:"/artist/album",params:{id:t,limit:i}})}function o(t){return Object(s["a"])({url:"/album",params:{id:t}})}function c(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/artist/mv",params:{id:t,limit:i,offset:e}})}function u(t){return Object(s["a"])({url:"/simi/artist",params:{id:t}})}function m(t){return Object(s["a"])({url:"/mv/url",params:{id:t}})}function d(t){return Object(s["a"])({url:"/mv/detail",params:{mvid:t}})}function f(t){return Object(s["a"])({url:"/mv/detail/info",params:{mvid:t}})}function h(t){return Object(s["a"])({url:"/simi/mv",params:{mvid:t}})}function g(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/comment/mv",params:{id:t,limit:i,offset:e}})}},"8a48":function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"s-album"},[t.imgShow?s("div",{staticClass:"album-img"},[t._t("albumImg",[s("img",{attrs:{src:e("4b5f"),alt:"404"}})])],2):t._e(),s("div",{staticClass:"album-list",style:{width:t.wth+"%"}},[s("div",{staticClass:"sell-btn",on:{click:t.addCollect}},[s("i",{staticClass:"el-icon-first-aid-kit"})]),s("div",{staticClass:"play-btn",on:{click:function(i){return t.playMusicList(t.tableList[0])}}},[s("i",{staticClass:"el-icon-video-play"})]),s("el-table",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{data:t.tableList.slice(0,t.showNum),lazy:!0,size:"mini"},on:{"row-click":t.playMusicList}},[t._t("albumTitle",[s("el-table-column",{attrs:{type:"index",width:"90",label:t.topTitle}})]),s("el-table-column",{attrs:{width:"70"},scopedSlots:t._u([{key:"default",fn:function(i){return t.images?t._t("tableicon",[s("a",{staticClass:"icon",attrs:{href:""},on:{click:function(i){return i.preventDefault(),i.stopPropagation(),t.addCollect(i)}}},[t.isshow?s("i",{staticClass:"el-icon-star-off"}):s("i",{staticClass:"el-icon-star-on"})]),s("a",{staticClass:"icon",attrs:{href:"#"}},[s("i",{staticClass:"el-icon-download"})])],{item:i.row.album.picUrl}):t._e()}}],null,!0)}),s("el-table-column",{attrs:{prop:"name",width:"180"}}),s("el-table-column",{attrs:{prop:"ar[0].name",width:"100"}}),s("el-table-column",{attrs:{prop:"al.name"},scopedSlots:t._u([{key:"default",fn:function(i){return t.nicknameshow?t._t("tablesinger",null,{item:i.row.album.artists}):t._e()}}],null,!0)}),s("el-table-column",{attrs:{prop:"dt",width:"100"},scopedSlots:t._u([{key:"default",fn:function(i){return s("span",{},[t._v(t._s(t._f("singDate")(i.row.duration||i.row.dt)))])}}])})],2),t.tableList.length>10&&t.lookshow?s("div",{staticClass:"lookAll",on:{click:t.lookAll}},[t._v(" 查看全部"+t._s(t.tableList.length)+"首 "),s("i",{staticClass:"el-icon-arrow-right"})]):t._e()],1)])},n=[],a=(e("a9e3"),e("735b")),l=e("9de6"),r=e("ee02"),o={name:"SingerAlbum",props:{tableList:{type:Array,default:function(){return[]}},wth:{type:Number,default:70},imgShow:{type:Boolean,default:!0},topTitle:{type:String,default:"热门50首"},images:{type:Boolean,default:!1},nicknameshow:{type:Boolean,default:!1}},data:function(){return{isshow:!0,lookshow:!0,showNum:10}},methods:{playMusicList:function(t){console.log(t.id),null!==t.id&&(this.getMusicUrl(t.id),this.getMusicMenu(t.id))},getMusicUrl:function(t){var i=this;Object(a["c"])(t).then((function(t){i.$store.commit(l["d"],t.data[0].url)}))},getMusicMenu:function(t){var i=this;Object(a["b"])(t).then((function(t){i.$store.commit(l["e"],t.songs[0])}))},addCollect:function(){console.log("收藏了"),this.isshow=!this.isshow},lookAll:function(){this.lookshow=!1,this.showNum=this.tableList.length}},filters:{singDate:function(t){return Object(r["c"])(t)}}},c=o,u=(e("0917"),e("2877")),m=Object(u["a"])(c,s,n,!1,null,"20875714",null);i["a"]=m.exports},"8d8e":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"singerMenu",staticClass:"songs"},[e("div",{staticClass:"s-img"},[e("img",{attrs:{src:t.singerMessage.picUrl,alt:"404"}}),e("div",{staticClass:"myself",on:{click:function(i){return t.toMyself(t.singerMessage.accountId)}}},[e("i",{staticClass:"el-icon-user"}),e("span",[t._v("个人主页")]),e("i",{staticClass:"el-icon-arrow-right"})])]),e("div",{staticClass:"s-menu"},[e("div",{staticClass:"title"},[e("div",[e("span",{staticClass:"tol"},[t._v("歌手")]),e("span",{staticClass:"title-a"},[t._v(t._s(t.singerMessage.name))])]),e("div",{staticClass:"like"},[e("span",{on:{click:function(i){return t.addLike(t.singerMessage.id)}}},[e("i",{class:t.likeClass},[t._v(t._s(t.likeContent))])])])]),e("div",{staticClass:"title-son",staticStyle:{marginTop:"30px"}},[e("span",[e("i",{staticClass:"el-icon-service",staticStyle:{fontSize:"18px"}}),t._v(" 单曲数 : "+t._s(t.singerMessage.musicSize)+" ")])]),e("div",{staticClass:"title-son"},[e("span",[e("i",{staticClass:"el-icon-film",staticStyle:{fontSize:"18px"}}),t._v(" 专辑数 : "+t._s(t.singerMessage.albumSize)+" ")])]),e("div",{staticClass:"title-son"},[e("span",[e("i",{staticClass:"el-icon-video-camera",staticStyle:{fontSize:"18px"}}),t._v(" MV数 : "+t._s(t.singerMessage.mvSize)+" ")])]),t._m(0)]),e("div",{staticClass:"songstable",staticStyle:{width:"90%",marginTop:"20px"}},[e("el-tabs",{staticStyle:{marginLeft:"50px"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"专辑",name:"first"}},[e("SingerAlbum",{attrs:{tableList:t.singerSongs}}),t._l(t.albumAll,(function(t,i){return e("SingerAlbum",{key:i,staticStyle:{marginTop:"20px"},attrs:{tableList:t.songs}},[e("img",{attrs:{slot:"albumImg",src:t.album.picUrl,alt:""},slot:"albumImg"}),e("el-table-column",{attrs:{slot:"albumTitle",type:"index",width:"120",label:t.album.name},slot:"albumTitle"})],1)}))],2),e("el-tab-pane",{attrs:{label:"MV",name:"second"}},[e("div",{staticClass:"singer-mv"},t._l(t.mvss,(function(t){return e("SingerMvCard",{key:t.id,attrs:{mvss:t}})})),1),e("el-pagination",{attrs:{background:"","page-size":t.limits,layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1),e("el-tab-pane",{attrs:{label:"歌手详情",name:"three"}},[e("SingerBrief",{attrs:{self:t.singerSelf,contents:t.briefs}})],1),e("el-tab-pane",{attrs:{label:"相似歌手",name:"four"}},[e("div",{staticClass:"singer-mv"},t._l(t.simis,(function(t){return e("SingerMvCard",{key:t.id,attrs:{mvss:t,mvright:!1,mvtime:!1}})})),1)])],1)],1)])},n=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title-son"},[e("i",{staticClass:"el-icon-mic",staticStyle:{fontSize:"18px"}}),e("a",{staticClass:"showTime",attrs:{href:"#"}},[t._v("演出数 : 1")])])}],a=(e("4160"),e("d81d"),e("b0c0"),e("ac1f"),e("5319"),e("159b"),e("883c")),l=e("8a48"),r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"singmv",on:{click:function(i){return t.toPlayMv(t.mvss.id)}}},[e("div",{staticClass:"mv-img"},[e("img",{attrs:{src:t.mvss.picUrl||t.mvss.imgurl,alt:"404"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.mvright,expression:"mvright"}],staticClass:"mv-right"},[e("i",{staticClass:"el-icon-video-camera"}),t._v(" "+t._s(t.mvss.playCount>1e3?(t.mvss.playCount/1e4).toFixed(0)+"万":t.mvss.playCount)+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.mvtime,expression:"mvtime"}],staticClass:"mv-time"},[t._v(t._s(t._f("showTime")(t.mvss.duration)))])]),e("p",{staticClass:"mv-name"},[t._v(t._s(t.mvss.name))])])},o=[],c=e("ee02"),u={name:"SingerMvCard",props:{mvss:{type:Object,default:function(){return{}}},mvright:{type:Boolean,default:!0},mvtime:{type:Boolean,default:!0}},methods:{toPlayMv:function(t){this.mvss.picUrl?this.$router.push("/singer"+t):this.$router.push("/mvvideo"+t)}},filters:{showTime:function(t){return Object(c["c"])(t)}}},m=u,d=(e("66fd"),e("2877")),f=Object(d["a"])(m,r,o,!1,null,"4548b43a",null),h=f.exports,g=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"singerbrief"},[e("div",{staticClass:"s-brief"},[e("h2",[t._v("歌手简介")]),e("p",{staticClass:"t-txt"},[t._v(t._s(t.self))])]),t._l(t.contents,(function(i,s){return e("div",{key:s,staticClass:"s-content"},[e("h2",[t._v(t._s(i.ti))]),e("p",{staticClass:"t-txt",domProps:{innerHTML:t._s(i.txt)}})])}))],2)},v=[],b={name:"SingerBrief",data:function(){return{}},props:{contents:{type:Array,default:function(){return[]}},self:{type:String,default:""}}},p=b,C=(e("2dde"),Object(d["a"])(p,g,v,!1,null,null,null)),S=C.exports,_={name:"SingerMenu",components:{SingerAlbum:l["a"],SingerMvCard:h,SingerBrief:S},data:function(){return{id:0,activeName:"first",count:0,singerMessage:{},singerSongs:[],albumAll:[],mvss:[],briefs:[],singerSelf:"",end:!0,offsets:0,limits:20,simis:[],liked:!1,likeContent:"收藏",likeClass:"el-icon-first-aid-kit"}},methods:{addLike:function(t){if(this.liked=!this.liked,!this.liked)return window.confirm("确定取消收藏吗？")?(this.likeContent="收藏",this.likeClass="el-icon-first-aid-kit",!0):(this.liked=!0,!1);this.$toast.show("收藏成功",1500),this.likeClass="el-icon-success",this.likeContent="已收藏"},handleCurrentChange:function(t){this.offsets=(t-1)*this.limits,this.getSingerMv(this.id,this.limits,this.offsets)},handleClick:function(t,i){switch(t.name){case"second":this.getSingerMv(this.id);break;case"three":this.getSingerDesc(this.id);break;case"four":this.getSingerSimi(this.id);break;default:this.getSingerArt(this.id)}},getSingerArt:function(t){var i=this;Object(a["i"])(t).then((function(t){i.singerMessage=t.artist,i.singerSongs=t.hotSongs}))},getSingerAlbum:function(t){var i=this;Object(a["g"])(t).then((function(t){t.hotAlbums.map((function(t){i.getSingerAlbumAll(t.id)}))}))},getSingerAlbumAll:function(t){var i=this;Object(a["h"])(t).then((function(t){i.albumAll.push(t)}))},getSingerMv:function(t,i,e){var s=this;Object(a["k"])(t,i,e).then((function(t){console.log(t.mvs),s.mvss=t.mvs}))},getSingerDesc:function(t){var i=this;Object(a["j"])(t).then((function(t){i.singerSelf=t.briefDesc,i.briefs=t.introduction,i.briefs.forEach((function(t){t.txt=t.txt.replace(/▪/g,"<br/>▪")}))}))},getSingerSimi:function(t){var i=this;Object(a["l"])(t).then((function(t){console.log(t),i.simis=t.artists}))},toMyself:function(t){console.log(t)},handleScroll:function(){var t=this.$refs.singerMenu.scrollHeight,i=this.$refs.singerMenu.scrollTop,e=this.$refs.singerMenu.clientHeight;t-e==i&&(console.log("到达底部"),this.end&&this.getSingerAlbum(this.id),this.end=!1)}},created:function(){this.id=parseInt(this.$route.params.id),this.getSingerArt(this.id)},mounted:function(){console.log("进入"),this.$refs.singerMenu.addEventListener("scroll",this.handleScroll,!0)},beforeDestroy:function(){console.log("离开了"),this.$refs.singerMenu.removeEventListener("scroll",this.handleScroll,!0)},watch:{$route:function(t,i){console.log(t.params.id),this.id=parseInt(t.params.id),this.getSingerSimi(this.id),this.getSingerArt(this.id)}}},k=_,w=(e("bece"),Object(d["a"])(k,s,n,!1,null,"4bd45b02",null));i["default"]=w.exports},b1c3:function(t,i,e){},bece:function(t,i,e){"use strict";var s=e("b1c3"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-41098d89.e6bd26c8.js.map