(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6426f5c7"],{"1bb3":function(t,e,i){},"365e":function(t,e,i){"use strict";var s=i("ec7c"),n=i.n(s);n.a},5713:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"scroll",staticClass:"musicvideo"},[i("div",{staticClass:"musicvideo-main"},[i("div",{staticClass:"musicvideo-btm"},[i("el-button",{class:[t.isTog?"active":""],attrs:{size:"small",round:""},nativeOn:{click:function(e){return t.togVideo(e)}}},[t._v("视频")]),i("el-button",{class:[t.isTog?"":"active"],attrs:{size:"small",round:""},nativeOn:{click:function(e){return t.togMv(e)}}},[t._v("MV")])],1),i("div",{staticClass:"title"},[i("span",[t._v("热门标签:")]),t._l(t.catlist,(function(e,s){return i("span",{key:s,class:[t.curIndex===s?"actived":""],staticStyle:{cursor:"pointer"},on:{click:function(i){return t.changeMusicListCat(e.name,s)}}},[t._v(" "+t._s(e.name)+" "),i("i",{staticStyle:{paddingLeft:"8px",color:"#666"}},[t._v(t._s(s===t.catlist.length-1?"":"|"))])])}))],2),i("div",{staticClass:"videosList"},[t._l(t.videosList,(function(e){return i("VideoItem",{directives:[{name:"show",rawName:"v-show",value:t.isTog,expression:"isTog"}],key:e.id,attrs:{item:e.data,wth:24,topShow:!1,userShow:!0}})})),t._l(t.mvList,(function(e){return i("MusicListItem",{directives:[{name:"show",rawName:"v-show",value:!t.isTog,expression:"!isTog"}],key:e.id,attrs:{item:e,wth:24,topShow:!1,userShow:!0,mvType:!0}})}))],2),i("el-pagination",{staticStyle:{textAlign:"center",margin:"0 auto",marginBottom:"20px"},attrs:{layout:"prev, pager, next","page-size":t.limit,total:t.totals},on:{"current-change":t.handleCurrentChange}})],1)])},n=[],a=(i("d81d"),i("a434"),i("b0c0"),i("6f70")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"musiclistitem",style:{width:t.wth+"%"},on:{click:function(e){return t.toListPage(t.item.vid)}}},[i("el-card",{attrs:{"body-style":{padding:"0px",width:"100%"},shadow:"hover"}},[i("img",{staticClass:"image",attrs:{src:t.item.coverUrl}}),t._t("music-t",[i("div",{staticClass:"right-t"},[i("i",{staticClass:"el-icon-video-camera",staticStyle:{paddingTop:"4px",paddingLeft:"15px"}}),i("span",[t._v(t._s(t.item.playTime>=1e4?(t.item.playTime/1e4).toFixed(0)+"万":t.item.playTime))])]),t.topShow?i("div",{staticClass:"top-t"},[i("span",[t._v(t._s(t.item.name))])]):t._e()]),i("div",{staticClass:"btm"},[i("i",{staticClass:"el-icon-video-play"})]),t.userShow?i("div",{staticClass:"user"},[i("span",[t._v(t._s(t._f("showTime")(t.item.durationms)))])]):t._e()],2),i("div",{staticClass:"namet"},[i("span",[t._v(t._s(t.item.name))])]),i("div",{staticClass:"btm-comment"},[i("div",{staticClass:"title-ct"},[t._v(t._s(t.item.title))]),i("span",[i("i",{staticClass:"el-icon-user"}),t._v(t._s(t.item.creator.nickname))])])],1)},r=[],c=(i("a9e3"),i("ee02")),l={name:"MusicListItem",data:function(){return{}},props:{item:{type:Object,default:function(){return{}}},wth:{type:Number,default:18},topShow:{type:Boolean,default:!0},userShow:{type:Boolean,default:!1}},created:function(){},methods:{toListPage:function(t){this.$router.push("/videos"+t),console.log(t)}},filters:{showTime:function(t){return Object(c["c"])(t)}}},u=l,d=(i("593f"),i("2877")),m=Object(d["a"])(u,o,r,!1,null,null,null),f=m.exports,h=i("f9f1"),v={name:"MusicVideo",components:{VideoItem:f,MusicListItem:h["a"]},data:function(){return{isTog:!0,curIndex:0,catlist:[],videosList:[],mvList:[],limit:20,totals:0,offset:0,titleIds:[],mvTitles:[{name:"内地"},{name:"港台"},{name:"欧美"},{name:"韩国"},{name:"日本"}]}},methods:{getVideoGroups:function(t,e){var i=this;Object(a["e"])(t,e).then((function(t){if("null"===window.localStorage.getItem("currentUserInfo"))return i.$message.error("需要登录获取视频数据!");i.videosList=t.datas}))},getVideoAll:function(t,e,i){var s=this;Object(a["a"])(t,e,i).then((function(t){0===s.totals&&(s.totals=t.count),s.mvList=t.data}))},handleCurrentChange:function(t){this.offset=(t-1)*this.limit,this.isTog?this.getVideoGroups(this.titleIds[index],this.offset):this.getVideoAll(this.mvTitles[this.curIndex].name,this.limit,this.offset),this.$refs.scroll.scrollTop=0},togVideo:function(){this.isTog||(console.log("切换了视频"),this.isTog=!0,this.getVideoTitleList(),this.curIndex=0,this.offset=0,this.totals=0)},togMv:function(){this.isTog&&(console.log("切换了mv"),this.isTog=!1,this.totals=0,this.curIndex=0,this.offset=0,this.getVideoAll(this.mvTitles[this.curIndex].name,this.limit,this.offset),this.catlist=this.mvTitles)},changeMusicListCat:function(t,e){this.isTog?(this.curIndex=e,this.offset=0,this.getVideoGroups(this.titleIds[e],this.offset)):(this.curIndex=e,this.offset=0,this.totals=0,this.getVideoAll(this.mvTitles[this.curIndex].name,this.limit,this.offset))},getVideoTitleList:function(){var t=this;Object(a["g"])().then((function(e){t.catlist=e.data.splice(0,9),9===t.catlist.length&&(t.catlist.map((function(e){t.titleIds.push(e.id)})),t.getVideoGroups(t.titleIds[0],t.offset))}))}},created:function(){this.getVideoTitleList()}},p=v,g=(i("6a0a"),Object(d["a"])(p,s,n,!1,null,"f37b391c",null));e["default"]=g.exports},"593f":function(t,e,i){"use strict";var s=i("1bb3"),n=i.n(s);n.a},"6a0a":function(t,e,i){"use strict";var s=i("7674"),n=i.n(s);n.a},"6f70":function(t,e,i){"use strict";i.d(e,"g",(function(){return n})),i.d(e,"e",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"h",(function(){return c})),i.d(e,"f",(function(){return l})),i.d(e,"b",(function(){return u})),i.d(e,"a",(function(){return d}));var s=i("1bab");function n(){return Object(s["a"])({url:"/video/group/list"})}function a(t,e){return Object(s["a"])({url:"/video/group",params:{id:t,offset:e}})}function o(t){return Object(s["a"])({url:"/video/detail",params:{id:t}})}function r(t){return Object(s["a"])({url:"/video/detail/info",params:{vid:t}})}function c(t){return Object(s["a"])({url:"/video/url",params:{id:t}})}function l(t){return Object(s["a"])({url:"/related/allvideo",params:{id:t}})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/comment/video",params:{id:t,limit:e,offset:i}})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"内地",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/mv/all",params:{area:t,limit:e,offset:i}})}},7674:function(t,e,i){},a434:function(t,e,i){"use strict";var s=i("23e7"),n=i("23cb"),a=i("a691"),o=i("50c4"),r=i("7b0b"),c=i("65f0"),l=i("8418"),u=i("1dde"),d=i("ae40"),m=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!m||!f},{splice:function(t,e){var i,s,u,d,m,f,_=r(this),w=o(_.length),b=n(t,w),C=arguments.length;if(0===C?i=s=0:1===C?(i=0,s=w-b):(i=C-2,s=v(h(a(e),0),w-b)),w+i-s>p)throw TypeError(g);for(u=c(_,s),d=0;d<s;d++)m=b+d,m in _&&l(u,d,_[m]);if(u.length=s,i<s){for(d=b;d<w-s;d++)m=d+s,f=d+i,m in _?_[f]=_[m]:delete _[f];for(d=w;d>w-s+i;d--)delete _[d-1]}else if(i>s)for(d=w-s;d>b;d--)m=d+s-1,f=d+i-1,m in _?_[f]=_[m]:delete _[f];for(d=0;d<i;d++)_[d+b]=arguments[d+2];return _.length=w-s+i,u}})},ec7c:function(t,e,i){},f9f1:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"musiclistitem",style:{width:t.wth+"%"},on:{click:function(e){return t.toListPage(t.item.id)}}},[i("el-card",{attrs:{"body-style":{padding:"0px",width:"100%"},shadow:"hover"}},[i("img",{staticClass:"image",attrs:{src:t.item.coverImgUrl||t.item.sPicUrl||t.item.cover}}),t._t("music-t",[i("div",{staticClass:"right-t"},[i("i",{staticClass:"el-icon-headset",staticStyle:{paddingTop:"4px",paddingLeft:"15px"}}),i("span",[t._v(t._s(t.item.playCount>=1e4?(t.item.playCount/1e4).toFixed(0)+"万":t.item.playCount))])]),t.topShow?i("div",{staticClass:"top-t"},[i("span",[t._v(t._s(t.item.name))])]):t._e()]),i("div",{staticClass:"btm"},[i("i",{staticClass:"el-icon-video-play"})]),t.userShow?i("div",{staticClass:"user"},[i("span",[i("i",{staticClass:"el-icon-user"}),t._v(t._s(t.item.artistName||t.item.creator.nickname))])]):t._e()],2),i("div",{staticClass:"namet"},[i("span",[t._v(t._s(t.item.name))])])],1)},n=[],a=(i("a9e3"),{name:"MusicListItem",data:function(){return{}},props:{item:{type:Object,default:function(){return{}}},wth:{type:Number,default:18},topShow:{type:Boolean,default:!0},userShow:{type:Boolean,default:!1},mvType:{type:Boolean,default:!1}},created:function(){},methods:{toListPage:function(t){this.mvType?this.$router.push("/mvvideo"+t):(this.$router.push("/songs"+t),console.log("/songs"+t))}}}),o=a,r=(i("365e"),i("2877")),c=Object(r["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-6426f5c7.dcb9da12.js.map