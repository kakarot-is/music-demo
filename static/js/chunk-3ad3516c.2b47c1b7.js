(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ad3516c"],{1152:function(t,e,i){"use strict";var s=i("f499"),n=i.n(s);n.a},1571:function(t,e,i){"use strict";var s=i("4770"),n=i.n(s);n.a},"1ebe":function(t,e,i){},"2d33":function(t,e,i){},4770:function(t,e,i){},"6a41":function(t,e,i){"use strict";var s=i("2d33"),n=i.n(s);n.a},"6f70":function(t,e,i){"use strict";i.d(e,"g",(function(){return n})),i.d(e,"e",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"d",(function(){return r})),i.d(e,"h",(function(){return l})),i.d(e,"f",(function(){return c})),i.d(e,"b",(function(){return u})),i.d(e,"a",(function(){return d}));var s=i("1bab");function n(){return Object(s["a"])({url:"/video/group/list"})}function a(t,e){return Object(s["a"])({url:"/video/group",params:{id:t,offset:e}})}function o(t){return Object(s["a"])({url:"/video/detail",params:{id:t}})}function r(t){return Object(s["a"])({url:"/video/detail/info",params:{vid:t}})}function l(t){return Object(s["a"])({url:"/video/url",params:{id:t}})}function c(t){return Object(s["a"])({url:"/related/allvideo",params:{id:t}})}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/comment/video",params:{id:t,limit:e,offset:i}})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"内地",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(s["a"])({url:"/mv/all",params:{area:t,limit:e,offset:i}})}},"7cff":function(t,e,i){"use strict";var s=i("1ebe"),n=i.n(s);n.a},a0b1:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("div",{staticClass:"myself"},[i("el-input",{attrs:{type:"textarea",placeholder:"请留下你的评论",maxlength:"140","show-word-limit":"",resize:"none"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),i("el-button",{staticStyle:{float:"right",marginTop:"5px"},attrs:{size:"mini"}},[t._v(" 评论 "),i("i",{staticClass:"el-icon-edit el-icon--right"})])],1),i("p",{staticStyle:{marginTop:"30px",fontSize:"14px"}},[t._v("精彩评论")]),t._l(t.comments,(function(e,s){return i("div",{key:s,staticClass:"newComment"},[i("div",{staticClass:"userComment"},[i("div",{staticClass:"userImg"},[i("img",{attrs:{src:e.user.avatarUrl,alt:"404"}}),i("div",{staticClass:"talk"},[i("a",{staticStyle:{color:"#0a63ab",margin:"0 8px"},attrs:{href:"#"}},[t._v(t._s(e.user.nickname)+":")]),i("span",{staticStyle:{lineHeight:"1.5"}},[t._v(t._s(e.content))]),i("p",{staticStyle:{margin:"0 8px"}},[t._v(t._s(t._f("showDate")(e.time)))])])]),i("div",{staticClass:"doing"},[i("span",{staticClass:"to"},[t._v("举报!")]),i("span",[i("i",{staticClass:"el-icon-thumb"}),t._v(t._s(e.likedCount>0?"("+e.likedCount+")":""))]),t._v("| "),i("span",[t._v("分享")]),t._v("| "),i("span",[t._v("回复")])])])])}))],2)},n=[],a=(i("735b"),i("ee02")),o={data:function(){return{text:"",id:0,total:0}},props:{comments:{type:Array,default:function(){return[]}}},methods:{},created:function(){},filters:{showDate:function(t){var e=new Date(t);return Object(a["a"])(e,"yyyy-MM-dd hh:mm:ss")}}},r=o,l=(i("7cff"),i("2877")),c=Object(l["a"])(r,s,n,!1,null,null,null);e["a"]=c.exports},a7a3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.topMenu.vid?i("div",{ref:"scroll",staticClass:"mvvideo"},[i("div",{staticClass:"mv-left"},[i("header",[t._m(0),i("span",{staticClass:"mv-title"},[t._v("视频")]),i("span",{staticStyle:{fontSize:"16px",marginRight:"5px"}},[t._v(t._s(t.topMenu.title))])]),i("video",{staticStyle:{width:"99%",margin:"20px 0"},attrs:{controls:"",autoplay:"",muted:"",loop:"",id:"myvideo",src:t.videurl},domProps:{muted:!0}},[i("p",[t._v("对不起，你的浏览器不支持video元素，请点击这里下载最新版本的浏览器")])]),i("el-button",{attrs:{size:"small",icon:"el-icon-thumb"}},[t._v("赞("+t._s(t.likeCom.likedCount)+")")]),i("el-button",{attrs:{size:"small",icon:"el-icon-star-off"},on:{click:function(e){return t.subscripe(12)}}},[t._v("收藏("+t._s(t.topMenu.subscribeCount)+")")]),i("el-button",{attrs:{size:"small",icon:"el-icon-share"}},[t._v("分享("+t._s(t.topMenu.shareCount)+")")]),i("el-button",{attrs:{size:"small",icon:"el-icon-download"}},[t._v("下载MV")]),i("a",{staticStyle:{color:"#888",fontSize:"13px",textDecoration:"underline",float:"right",marginRight:"5px"},attrs:{href:"#"}},[t._v("举报")]),i("TitleHeader",{staticStyle:{marginTop:"50px"},attrs:{name:"评论("+t.likeCom.commentCount+")",show:!1}}),i("MvComment",{attrs:{comments:t.comments}}),i("el-pagination",{attrs:{background:"","page-size":t.limits,layout:"prev, next"},on:{"current-change":t.handleCurrentChange}})],1),i("div",{staticClass:"mv-right"},[i("TitleHeader",{staticStyle:{marginBottom:"8px"},attrs:{name:"Mv介绍",show:!1}}),i("div",{staticStyle:{display:"flex",justifyContent:"space-between"}},[i("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v("发布时间:"+t._s(t._f("showDate")(t.topMenu.publishTime)))]),i("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v("播放次数:"+t._s(t.topMenu.playTime>1e4?(t.topMenu.playTime/1e4).toFixed(0)+"万":t.topMenu.playTime)+"次")])]),i("div",{staticStyle:{marginTop:"8px"}},[i("span",{staticStyle:{fontSize:"13px",color:"#888",lineHeight:"1.4"}},[t._v(t._s(t.topMenu.desc))])]),i("TitleHeader",{staticStyle:{marginTop:"50px"},attrs:{name:"相关推荐",show:!1}}),t._l(t.simiMvs,(function(t){return i("VideoCard",{key:t.vid,attrs:{simis:t}})}))],2)]):t._e()},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{attrs:{href:"#"}},[i("i",{staticClass:"el-icon-arrow-left"})])}],a=(i("99af"),i("2909")),o=i("6f70"),r=i("ee02"),l=i("d5b7"),c=i("a0b1"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mvsimicard"},[i("div",{staticClass:"simi-img",on:{click:function(e){return t.togMv(t.simis.vid)}}},[i("img",{attrs:{src:t.simis.coverUrl,alt:"404"}}),i("div",{staticClass:"r-top"},[i("i",{staticClass:"el-icon-video-camera"}),t._v(" "+t._s(t.simis.playTime>1e4?(t.simis.playTime/1e4).toFixed(0)+"万":t.simis.playTime)+" ")])]),i("div",{staticClass:"simi-content"},[i("div",{staticClass:"simi-title"},[i("span",{staticClass:"simi-mv"},[t._v("视频")]),i("span",[t._v(t._s(t.simis.title))])]),i("p",{staticStyle:{fontSize:"13px",color:"#888",marginBottom:"10px"}},[t._v(t._s(t._f("showTime")(t.simis.durationms)))]),t.simis.creator.length>1?i("div",{staticStyle:{fontSize:"13px",color:"#888",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},t._l(t.simis.creator,(function(e,s){return i("i",{key:e.userId},[t._v(t._s(t.simis.creator.length===s+1?e.userName:e.userName+"/"))])})),0):i("span",{staticStyle:{fontSize:"13px",color:"#888"}},[t._v(t._s(t.simis.creator[0].userName))])])])},d=[],m={name:"MvSimiCard",props:{simis:{type:Object,default:function(){return{}}}},methods:{togMv:function(t){console.log(t),this.$router.push("/videos"+t)}},filters:{showTime:function(t){return Object(r["c"])(t)}}},f=m,v=(i("1571"),i("2877")),p=Object(v["a"])(f,u,d,!1,null,"96479882",null),h=p.exports,g={name:"SingerMvVideo",components:{TitleHeader:l["a"],VideoCard:h,MvComment:c["a"]},data:function(){return{id:0,videurl:0,topMenu:{},likeCom:{},comments:[],limits:20,offsets:0,simiMvs:[]}},methods:{handleCurrentChange:function(t){console.log(t),this.offsets=(t-1)*this.limits,this.getVideoComment(this.id,this.limits,this.offsets),this.$refs.scroll.scrollTop=530},subscripe:function(t){console.log(t)},getVideoUrl:function(t){var e=this;Object(o["h"])(t).then((function(t){console.log(t),e.videurl=t.urls[0].url}))},getVideoDetail:function(t){var e=this;Object(o["c"])(t).then((function(t){console.log(t),e.topMenu=t.data}))},getVideoDetailInfo:function(t){var e=this;Object(o["d"])(t).then((function(t){e.likeCom=t}))},getVideoComment:function(t,e,i){var s=this;Object(o["b"])(t,e,i).then((function(t){s.comments=i>0?t.comments:[].concat(Object(a["a"])(t.hotComments),Object(a["a"])(t.comments))}))},getVideoSimi:function(t){var e=this;Object(o["f"])(t).then((function(t){e.simiMvs=t.data}))}},created:function(){this.id=this.$route.params.id,this.getVideoDetail(this.id),this.getVideoUrl(this.id),this.getVideoDetailInfo(this.id),this.getVideoComment(this.id),this.getVideoSimi(this.id)},filters:{showDate:function(t){var e=new Date(t);return Object(r["a"])(e,"yyyy-MM-dd")}},watch:{$route:function(t,e){console.log(t.params.id),this.id=t.params.id,this.getVideoDetail(this.id),this.getVideoUrl(this.id),this.getVideoDetailInfo(this.id),this.getVideoComment(this.id),this.getVideoSimi(this.id)}}},_=g,C=(i("6a41"),Object(v["a"])(_,s,n,!1,null,"605aaaa7",null));e["default"]=C.exports},d5b7:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("div",{staticClass:"content"},[i("div",{staticClass:"name"},[t._v(t._s(t.name))]),t.show?i("div",{staticClass:"more"},[i("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.toggel(e)}}},[t._v(t._s(t.more)),i("i",{staticClass:"el-icon-arrow-right"})])]):t._e()])])},n=[],a={name:"TitleHeader",props:{name:{type:String,default:"名字"},more:{type:String,default:"更多"},path:{type:String,default:"/home/rtsongs"},show:{type:Boolean,default:!0}},methods:{toggel:function(){this.$router.push(this.path)}}},o=a,r=(i("1152"),i("2877")),l=Object(r["a"])(o,s,n,!1,null,"029d06dc",null);e["a"]=l.exports},f499:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3ad3516c.2b47c1b7.js.map